{"ast":null,"code":"import _classCallCheck from\"H:\\\\teach-me-django-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"H:\\\\teach-me-django-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"H:\\\\teach-me-django-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"H:\\\\teach-me-django-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{Form,Icon,Input,Button,Spin}from\"antd\";import{connect}from\"react-redux\";import{NavLink}from\"react-router-dom\";import*as actions from\"../store/actions/auth\";var FormItem=Form.Item;var antIcon=/*#__PURE__*/React.createElement(Icon,{type:\"loading\",style:{fontSize:24},spin:true});var NormalLoginForm=/*#__PURE__*/function(_React$Component){_inherits(NormalLoginForm,_React$Component);var _super=_createSuper(NormalLoginForm);function NormalLoginForm(){var _this;_classCallCheck(this,NormalLoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleSubmit=function(e){e.preventDefault();_this.props.form.validateFields(function(err,values){if(!err){_this.props.onAuth(values.userName,values.password);_this.props.history.push(\"/\");}});};return _this;}_createClass(NormalLoginForm,[{key:\"render\",value:function render(){var errorMessage=null;if(this.props.error){errorMessage=/*#__PURE__*/React.createElement(\"p\",null,this.props.error.message);}var getFieldDecorator=this.props.form.getFieldDecorator;return/*#__PURE__*/React.createElement(\"div\",null,errorMessage,this.props.loading?/*#__PURE__*/React.createElement(Spin,{indicator:antIcon}):/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit,className:\"login-form\"},/*#__PURE__*/React.createElement(FormItem,null,getFieldDecorator(\"userName\",{rules:[{required:true,message:\"Please input your username!\"}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(Icon,{type:\"user\",style:{color:\"rgba(0,0,0,.25)\"}}),placeholder:\"Username\"}))),/*#__PURE__*/React.createElement(FormItem,null,getFieldDecorator(\"password\",{rules:[{required:true,message:\"Please input your Password!\"}]})(/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(Icon,{type:\"lock\",style:{color:\"rgba(0,0,0,.25)\"}}),type:\"password\",placeholder:\"Password\"}))),/*#__PURE__*/React.createElement(FormItem,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\",style:{marginRight:\"10px\"}},\"Login\"),\"Or\",/*#__PURE__*/React.createElement(NavLink,{style:{marginRight:\"10px\"},to:\"/signup/\"},\" \",\"signup\"))));}}]);return NormalLoginForm;}(React.Component);var WrappedNormalLoginForm=Form.create()(NormalLoginForm);var mapStateToProps=function mapStateToProps(state){return{loading:state.auth.loading,error:state.auth.error};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onAuth:function onAuth(username,password){return dispatch(actions.authLogin(username,password));}};};export default connect(mapStateToProps,mapDispatchToProps)(WrappedNormalLoginForm);","map":{"version":3,"sources":["H:/teach-me-django-master/src/containers/Login.js"],"names":["React","Form","Icon","Input","Button","Spin","connect","NavLink","actions","FormItem","Item","antIcon","fontSize","NormalLoginForm","handleSubmit","e","preventDefault","props","form","validateFields","err","values","onAuth","userName","password","history","push","errorMessage","error","message","getFieldDecorator","loading","rules","required","color","marginRight","Component","WrappedNormalLoginForm","create","mapStateToProps","state","auth","mapDispatchToProps","dispatch","username","authLogin"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Form, Icon, Input, Button, Spin } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport * as actions from \"../store/actions/auth\";\n\nconst FormItem = Form.Item;\nconst antIcon = <Icon type=\"loading\" style={{ fontSize: 24 }} spin />;\n\nclass NormalLoginForm extends React.Component {\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        this.props.onAuth(values.userName, values.password);\n        this.props.history.push(\"/\");\n      }\n    });\n  };\n\n  render() {\n    let errorMessage = null;\n    if (this.props.error) {\n      errorMessage = <p>{this.props.error.message}</p>;\n    }\n\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <div>\n        {errorMessage}\n        {this.props.loading ? (\n          <Spin indicator={antIcon} />\n        ) : (\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <FormItem>\n              {getFieldDecorator(\"userName\", {\n                rules: [\n                  { required: true, message: \"Please input your username!\" }\n                ]\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  placeholder=\"Username\"\n                />\n              )}\n            </FormItem>\n\n            <FormItem>\n              {getFieldDecorator(\"password\", {\n                rules: [\n                  { required: true, message: \"Please input your Password!\" }\n                ]\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  type=\"password\"\n                  placeholder=\"Password\"\n                />\n              )}\n            </FormItem>\n\n            <FormItem>\n              <Button\n                type=\"primary\"\n                htmlType=\"submit\"\n                style={{ marginRight: \"10px\" }}\n              >\n                Login\n              </Button>\n              Or\n              <NavLink style={{ marginRight: \"10px\" }} to=\"/signup/\">\n                {\" \"}\n                signup\n              </NavLink>\n            </FormItem>\n          </Form>\n        )}\n      </div>\n    );\n  }\n}\n\nconst WrappedNormalLoginForm = Form.create()(NormalLoginForm);\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAuth: (username, password) =>\n      dispatch(actions.authLogin(username, password))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(WrappedNormalLoginForm);\n"]},"metadata":{},"sourceType":"module"}